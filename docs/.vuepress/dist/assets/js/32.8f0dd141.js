(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{1231:function(a,r,e){"use strict";e.r(r);var t=e(42),_=Object(t.a)({},(function(){var a=this,r=a.$createElement,t=a._self._c||r;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"eureka基础"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#eureka基础"}},[a._v("#")]),a._v(" eureka基础")]),a._v(" "),t("h2",{attrs:{id:"_1-简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-简介"}},[a._v("#")]),a._v(" 1. 简介")]),a._v(" "),t("p",[a._v("Eureka 是 Netfix 开源的一款提供服务注册和发现的产品，他提供了完整的 Service Register 和Service Discovery实现。是SpringCloud 体系中最重要最核心的组件之一")]),a._v(" "),t("h2",{attrs:{id:"_2-背景"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-背景"}},[a._v("#")]),a._v(" 2. 背景")]),a._v(" "),t("h3",{attrs:{id:"_2-1-服务中心"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-服务中心"}},[a._v("#")]),a._v(" 2.1 服务中心")]),a._v(" "),t("p",[a._v("服务中心又称注册中心，管理各种服务功能包括服务的注册、发现、熔断、负载、降级等。")]),a._v(" "),t("h3",{attrs:{id:"_2-2-引入服务中心的变化"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-引入服务中心的变化"}},[a._v("#")]),a._v(" 2.2 引入服务中心的变化")]),a._v(" "),t("p",[t("strong",[a._v("情况1：项目A 调用项目B")])]),a._v(" "),t("p",[a._v("正常调用项目A 请求项目B")]),a._v(" "),t("p",[t("img",{attrs:{src:e(624),alt:"image-20191113223809093"}})]),a._v(" "),t("p",[a._v("有了服务中心之后，任何一个服务都不能直接去调用，都需要服务中心来调用")]),a._v(" "),t("p",[t("img",{attrs:{src:e(625),alt:"image-20191113223843702"}})]),a._v(" "),t("p",[t("strong",[a._v("情况2：项目A 调用项目B,项目B 再调用项目C")])]),a._v(" "),t("p",[t("img",{attrs:{src:e(626),alt:"image-20191113224054970"}})]),a._v(" "),t("p",[a._v("这时候调用的步骤就会分为两步")]),a._v(" "),t("ol",[t("li",[t("p",[a._v("第一步：项目A首先从服务中心请求项目B服务器")])]),a._v(" "),t("li",[t("p",[a._v("第二步：项目B 再从服务中心请求项目C 服务")])])]),a._v(" "),t("p",[t("img",{attrs:{src:e(627),alt:"image-20191113224305369"}})]),a._v(" "),t("p",[a._v("上面的项目只是两三个相互之间的简单调用，但是如果项目超过20个30个呢，画一张图来描述几十个项目之间的相互调用关系全是线条。任何其中一个项目改动，就会牵连好几个项目跟着重启，麻烦且容易出错")]),a._v(" "),t("p",[a._v("通过服务中心来获取服务，你"),t("strong",[a._v("不需要关系调用的项目的IP 地址")]),a._v("，由几台服务器组成，"),t("strong",[a._v("每次直接去服务中心获取可以使用的服务调用")]),a._v("就可以")]),a._v(" "),t("h2",{attrs:{id:"_3-eureka"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-eureka"}},[a._v("#")]),a._v(" 3. Eureka")]),a._v(" "),t("h3",{attrs:{id:"_3-1-官方介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-官方介绍"}},[a._v("#")]),a._v(" 3.1 官方介绍")]),a._v(" "),t("p",[a._v("Eureka 是一个基于 REST 的服务，主要在AWS 云中使用，定位服务来进行中间层服务器的负载均衡和故障转移")]),a._v(" "),t("h3",{attrs:{id:"_3-2-介绍"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-2-介绍"}},[a._v("#")]),a._v(" 3.2 介绍")]),a._v(" "),t("p",[a._v("Spring Cloud 封装了Netfix 公司开发的 Eureka 模块来实现服务注册与发现。")]),a._v(" "),t("p",[a._v("Eureka 采用了"),t("strong",[a._v("C-S 的设计架构")]),a._v("，")]),a._v(" "),t("ul",[t("li",[a._v("Eureka Server 作为服务注册功能的服务器，他是服务注册中心。")]),a._v(" "),t("li",[a._v("而系统中的其他微服务，使用Eureka 的客户端连接到Eureka Server ，并维持心跳连接")])]),a._v(" "),t("p",[a._v("优势：")]),a._v(" "),t("ul",[t("li",[a._v("系统的维护人员就可以通过 Eureka Server 来监控系统中各个微服务是否正常运行")]),a._v(" "),t("li",[a._v("Spring Cloud 的一些其他模块（Zuul）就可以通过 Eureka Server 来发现系统中的其他微服务，并执行相关逻辑")])]),a._v(" "),t("h3",{attrs:{id:"_3-3-eureka服务器和eureka客户端"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-3-eureka服务器和eureka客户端"}},[a._v("#")]),a._v(" 3.3 Eureka服务器和Eureka客户端")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("Eureka 服务器：服务注册服务器")])]),a._v(" "),t("li",[t("p",[a._v("Eureka 客户端：是一个java 客户端，用来简化与服务器的交互，作为轮询负载均衡器，并提供服务的故障切换支持。")])])]),a._v(" "),t("h3",{attrs:{id:"_3-4-eureka-基本架构"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_3-4-eureka-基本架构"}},[a._v("#")]),a._v(" 3.4 Eureka 基本架构")]),a._v(" "),t("p",[t("img",{attrs:{src:e(628),alt:"image-20191113230422056"}})]),a._v(" "),t("p",[a._v("上图简要描述了Eureka 的基本架构，由3个角色组成")]),a._v(" "),t("ol",[t("li",[t("p",[a._v("Eureka Server")]),a._v(" "),t("ul",[t("li",[a._v("提供服务注册和发现")])])]),a._v(" "),t("li",[t("p",[a._v("Service Provider")]),a._v(" "),t("ul",[t("li",[t("p",[a._v("服务提供方")])]),a._v(" "),t("li",[t("p",[a._v("将自身服务注册到Eureka，从而使服务消费放能够找到")])])])]),a._v(" "),t("li",[t("p",[a._v("Service coNSUMER")]),a._v(" "),t("ul",[t("li",[a._v("服务消费放")]),a._v(" "),t("li",[a._v("从Eureka获取注册服务列表，从而能够消费服务")])])])]),a._v(" "),t("h2",{attrs:{id:"参考文章"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考文章"}},[a._v("#")]),a._v(" 参考文章")]),a._v(" "),t("p",[t("a",{attrs:{href:"http://www.ityouknow.com/springcloud/2017/05/10/springcloud-eureka.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("springcloud(二)：注册中心Eureka"),t("OutboundLink")],1)])])}),[],!1,null,null,null);r.default=_.exports},624:function(a,r,e){a.exports=e.p+"assets/img/image-20191113223809093.beba7b61.png"},625:function(a,r,e){a.exports=e.p+"assets/img/image-20191113223843702.af855f6c.png"},626:function(a,r,e){a.exports=e.p+"assets/img/image-20191113224054970.5bf9fb94.png"},627:function(a,r,e){a.exports=e.p+"assets/img/image-20191113224305369.124944cf.png"},628:function(a,r,e){a.exports=e.p+"assets/img/image-20191113230422056.2b3ed50a.png"}}]);