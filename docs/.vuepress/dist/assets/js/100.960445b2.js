(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{1204:function(e,t,a){"use strict";a.r(t);var s=a(42),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"hibernate概念与原理"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#hibernate概念与原理"}},[e._v("#")]),e._v(" Hibernate概念与原理")]),e._v(" "),s("h2",{attrs:{id:"_1-hibernate的核心组件"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-hibernate的核心组件"}},[e._v("#")]),e._v(" 1. Hibernate的核心组件")]),e._v(" "),s("ul",[s("li",[e._v("Configuration类：用来读取Hibernate配置文件，并生成SessionFactory对象。")]),e._v(" "),s("li",[e._v("SessionFactory接口：产生Session实例工厂。")]),e._v(" "),s("li",[e._v("Session接口：用来操作PO。它有get(),load(),save(),update()和delete()等方法用来对PO进行加载，保存，更新及删除等操作。它是Hibernate的核心接口。")]),e._v(" "),s("li",[e._v("Query接口：用来对PO进行查询操。它可以从Session的createQuery()方法生成。")]),e._v(" "),s("li",[e._v("Transaction接口：用来管理Hibernate事务，它主要方法有commit()和rollback()，可以从Session的beginTrancation()方法生成。")])]),e._v(" "),s("h2",{attrs:{id:"_2-persistent-object-持久化对象"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-persistent-object-持久化对象"}},[e._v("#")]),e._v(" 2. Persistent Object（持久化对象）")]),e._v(" "),s("p",[e._v("持久化对象可以是普通的Javabeans,惟一特殊的是它们与（仅一个）Session相关联。JavaBeans在Hibernate中存在三种状态：")]),e._v(" "),s("ol",[s("li",[s("p",[e._v("临时状态(transient)")]),e._v(" "),s("p",[e._v("当一个JavaBean对象在内存中孤立存在，不与数据库中的数据有任何关联关系时，那么这个JavaBeans对象就称为临时对象(TransientObject)。")])]),e._v(" "),s("li",[s("p",[e._v("持久化状态(persistent):")]),e._v(" "),s("p",[e._v("当一个JavaBean对象与一个Session相关联时，就变成持久化对象(PersistentObject)")])]),e._v(" "),s("li",[s("p",[e._v("脱管状态(detached):")]),e._v(" "),s("p",[e._v("在这个Session被关闭的同时，这个对象也会脱离持久化状态，就变成脱管状态(DetachedObject)，可以被应用程序的任何层自由使用，例如可以做与表示层打交道的数据舆对象(Data Transfer Object)。")])])]),e._v(" "),s("h2",{attrs:{id:"_3-hibernate的运行过程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-hibernate的运行过程"}},[e._v("#")]),e._v(" 3. Hibernate的运行过程")]),e._v(" "),s("ol",[s("li",[e._v("应用程序先调用Configration类，该类读取Hibernate的配置文件及映射文件中的信息，并用这些信息生成一个SessionFactory对象。")]),e._v(" "),s("li",[e._v("然后从SessionFactory对象生成一个Session对象，并用Session对象生成Transaction对象;可通过Session对象的get(),load(),save(),update(),delete()和saveOrUpdate()等方法对PO进行加载，保存，更新，删除等操作;在查询的情况下，可通过Session对象生成一个Query对象，然后利用Query对象执行查询操作;如果没有异常，Transaction对象将 提交这些操作结果到数据库中。")])]),e._v(" "),s("h4",{attrs:{id:"_3-1-运行过程图"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-1-运行过程图"}},[e._v("#")]),e._v(" 3.1 运行过程图")]),e._v(" "),s("p",[s("img",{attrs:{src:a(569),alt:"image-20201010142111373"}})]),e._v(" "),s("p",[s("img",{attrs:{src:a(570),alt:""}})]),e._v(" "),s("h2",{attrs:{id:"_4-hibernate工作原理总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-hibernate工作原理总结"}},[e._v("#")]),e._v(" 4. hibernate工作原理总结")]),e._v(" "),s("ol",[s("li",[s("p",[e._v("通过Configuration().configure();读取并解析hibernate.cfg.xml"),s("a",{attrs:{href:"http://baike.baidu.com/view/2117618.htm",target:"_blank",rel:"noopener noreferrer"}},[e._v("配置文件"),s("OutboundLink")],1),e._v("。")])]),e._v(" "),s("li",[s("p",[e._v('由hibernate.cfg.xml中的<mappingresource="com/xx/User.hbm.xml"/>读取解析映射信息。')])]),e._v(" "),s("li",[s("p",[e._v("通过config.buildSessionFactory();//得到sessionFactory。")])]),e._v(" "),s("li",[s("p",[e._v("sessionFactory.openSession();//得到session。")])]),e._v(" "),s("li",[s("p",[e._v("session.beginTransaction();//开启事务。")])]),e._v(" "),s("li",[s("p",[e._v("persistent operate;")])]),e._v(" "),s("li",[s("p",[e._v("session.getTransaction().commit();//提交事务")])]),e._v(" "),s("li",[s("p",[e._v("关闭session;")])]),e._v(" "),s("li",[s("p",[e._v("关闭sessionFactory;")])])]),e._v(" "),s("h2",{attrs:{id:"参考文章"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考文章"}},[e._v("#")]),e._v(" 参考文章")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://blog.csdn.net/lmb55/article/details/46536925",target:"_blank",rel:"noopener noreferrer"}},[e._v("Hibernate基本原理及概念详解"),s("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=r.exports},569:function(e,t,a){e.exports=a.p+"assets/img/image-20201010142111373.fcaf4f3a.png"},570:function(e,t,a){e.exports=a.p+"assets/img/image-20201010142134280.f6ac6ab0.png"}}]);