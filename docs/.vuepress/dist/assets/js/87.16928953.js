(window.webpackJsonp=window.webpackJsonp||[]).push([[87],{1085:function(e,r,o){"use strict";o.r(r);var t=o(42),a=Object(t.a)({},(function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[t("h1",{attrs:{id:"通过docker安装oracle"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#通过docker安装oracle"}},[e._v("#")]),e._v(" 通过docker安装Oracle")]),e._v(" "),t("h2",{attrs:{id:"_1-安装oracle"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_1-安装oracle"}},[e._v("#")]),e._v(" 1. 安装Oracle")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("拉取镜像")]),e._v(" "),t("blockquote",[t("p",[e._v("docker pull registry.cn-hangzhou.aliyuncs.com/helowin/oracle_11g")])]),e._v(" "),t("p",[e._v("镜像大概有6.8G")]),e._v(" "),t("p",[e._v("查看镜像信息：")]),e._v(" "),t("blockquote",[t("p",[e._v("docker iamges")])])]),e._v(" "),t("li",[t("p",[e._v("创建容器")]),e._v(" "),t("blockquote",[t("p",[e._v("docker run -d -p 1521:1521 --name oracle_11g registry.aliyuncs.com/helowin/oracle_11g")])]),e._v(" "),t("p",[e._v("启动容器")]),e._v(" "),t("blockquote",[t("p",[e._v("docker start oracle_11g")])])]),e._v(" "),t("li",[t("p",[e._v("进入控制台设置用户信息：")]),e._v(" "),t("blockquote",[t("p",[e._v("docker exec -it oracle_11g bash")])])]),e._v(" "),t("li",[t("p",[e._v("切换成root进行操作：")]),e._v(" "),t("blockquote",[t("p",[e._v("su - root")])]),e._v(" "),t("p",[e._v("输入密码helowin")])]),e._v(" "),t("li",[t("p",[e._v("设置oracle环境变量如下：")]),e._v(" "),t("p",[e._v("vi /etc/profile文件末尾添加：")]),e._v(" "),t("blockquote",[t("p",[e._v("export ORACLE_HOME=/home/oracle/app/oracle/product/11.2.0/dbhome_2\nexport ORACLE_SID=helowin\nexport PATH=PATH")])])]),e._v(" "),t("li",[t("p",[e._v("切换回oracle用户：")]),e._v(" "),t("blockquote",[t("p",[e._v("su - oracle")])])]),e._v(" "),t("li",[t("p",[e._v("修改sys、system用户密码")]),e._v(" "),t("blockquote",[t("p",[e._v("sqlplus /nolog\nconn /as sysdba\nalter user system identified by oracle;\nalter user sys identified by oracle;\nALTER PROFILE DEFAULT LIMIT PASSWORD_LIFE_TIME UNLIMITED;")])]),e._v(" "),t("p",[e._v("此处的oracle 就是你设置的密码")])])]),e._v(" "),t("h2",{attrs:{id:"_2-遇到的问题"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-遇到的问题"}},[e._v("#")]),e._v(" 2. 遇到的问题")]),e._v(" "),t("h3",{attrs:{id:"_2-1-远程连接提示"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-远程连接提示"}},[e._v("#")]),e._v(" 2.1 远程连接提示")]),e._v(" "),t("p",[e._v("ORA-12514: TNS:listener does not currently know of service requested in connect descriptor")]),e._v(" "),t("p",[t("img",{attrs:{src:o(502),alt:"image-20200507212411220"}})]),e._v(" "),t("p",[e._v("主要原因是service name 设置的并不是ORCL 导致")]),e._v(" "),t("ul",[t("li",[t("p",[e._v("解决方案：")]),e._v(" "),t("p",[e._v("service name 改为 helowin")])]),e._v(" "),t("li",[t("p",[e._v("解决步骤")]),e._v(" "),t("ol",[t("li",[t("p",[e._v("进入docker 容器")]),e._v(" "),t("blockquote",[t("p",[e._v("docker exec -it oracle_11g bash")])])]),e._v(" "),t("li",[t("p",[e._v("进入 tnsnames.ora所在的目录")]),e._v(" "),t("blockquote",[t("p",[e._v("cd /home/oracle/app/oracle/product/11.2.0/dbhome_2/network/admin")])])]),e._v(" "),t("li",[t("p",[e._v("查看 tnsnames.ora")]),e._v(" "),t("blockquote",[t("p",[e._v("vi  tnsnames.ora")])]),e._v(" "),t("p",[e._v("可以看到SERVICE_NAME = helowin")]),e._v(" "),t("p",[t("img",{attrs:{src:o(503),alt:"image-20200507213419605"}})])])])])]),e._v(" "),t("h2",{attrs:{id:"参考文章"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#参考文章"}},[e._v("#")]),e._v(" 参考文章")]),e._v(" "),t("p",[t("a",{attrs:{href:"https://segmentfault.com/a/1190000020633619",target:"_blank",rel:"noopener noreferrer"}},[e._v("centos7使用docker安装oracle"),t("OutboundLink")],1)]),e._v(" "),t("p",[t("a",{attrs:{href:"https://blog.csdn.net/weixin_30657541/article/details/98204681",target:"_blank",rel:"noopener noreferrer"}},[e._v("Linux下如何查找sqlnet.ora 和listener.ora 和tnsnames.ora 配置文件的目录"),t("OutboundLink")],1)])])}),[],!1,null,null,null);r.default=a.exports},502:function(e,r,o){e.exports=o.p+"assets/img/image-20200507212411220.c4f22af2.png"},503:function(e,r,o){e.exports=o.p+"assets/img/image-20200507213419605.e78c44cd.png"}}]);