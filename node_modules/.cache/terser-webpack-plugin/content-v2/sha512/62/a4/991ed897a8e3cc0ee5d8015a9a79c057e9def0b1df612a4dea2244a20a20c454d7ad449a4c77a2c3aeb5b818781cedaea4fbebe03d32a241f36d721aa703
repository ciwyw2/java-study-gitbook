{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[93],{1159:function(t,s,n){\"use strict\";n.r(s);var i=n(42),a=Object(i.a)({},(function(){var t=this,s=t.$createElement,i=t._self._c||s;return i(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[i(\"h1\",{attrs:{id:\"首页优化之-gzip压缩\"}},[i(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#首页优化之-gzip压缩\"}},[t._v(\"#\")]),t._v(\" 首页优化之-gzip压缩\")]),t._v(\" \"),i(\"p\",[t._v(\"当前打包出来的dist 是13.6M\")]),t._v(\" \"),i(\"p\",[t._v(\"使用gzip压缩之后变成15.8M,在原有的基础上加上了gzip\")]),t._v(\" \"),i(\"h2\",{attrs:{id:\"_1-简介\"}},[i(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-简介\"}},[t._v(\"#\")]),t._v(\" 1. 简介\")]),t._v(\" \"),i(\"p\",[t._v(\"gzip 压缩是一种http请求优化方式，通过减少文件体积来提高加载速度。html、js、css文件甚至json数据都可以用它来压缩，可以减少60%以上的体积\")]),t._v(\" \"),i(\"h2\",{attrs:{id:\"_2-压缩配置\"}},[i(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-压缩配置\"}},[t._v(\"#\")]),t._v(\" 2. 压缩配置\")]),t._v(\" \"),i(\"h3\",{attrs:{id:\"_2-1-安装-compression-webpack-plugin-插件\"}},[i(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-1-安装-compression-webpack-plugin-插件\"}},[t._v(\"#\")]),t._v(\" 2.1 安装 compression webpack plugin 插件\")]),t._v(\" \"),i(\"div\",{staticClass:\"language- extra-class\"},[i(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[i(\"code\",[t._v(\"npm install --save-dev compression-webpack-plugin\\n\")])])]),i(\"h3\",{attrs:{id:\"_2-2-在vue-cli3-0-生成的项目里-可在vue-config-js-中按照如下方式配置\"}},[i(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-2-在vue-cli3-0-生成的项目里-可在vue-config-js-中按照如下方式配置\"}},[t._v(\"#\")]),t._v(\" 2.2 在vue cli3.0 生成的项目里，可在vue.config.js 中按照如下方式配置\")]),t._v(\" \"),i(\"div\",{staticClass:\"language- extra-class\"},[i(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[i(\"code\",[t._v('\\nconst CompressionWebpackPlugin = require(\"compression-webpack-plugin\");\\nconst productionGzipExtensions = /\\\\.(js|css|json|txt|html|ico|svg)(\\\\?.*)?$/i;\\n\\nmodule.exports = {\\n \\t...\\n  configureWebpack: config => {\\n    const plugins = [];\\n\\n    // Begin 生成 gzip 压缩文件\\n    plugins.push(\\n        new CompressionWebpackPlugin({\\n            filename: \"[path].gz[query]\",\\n            algorithm: \"gzip\",\\n            test: productionGzipExtensions,\\n            threshold: 10240,\\n            minRatio: 0.8\\n        })\\n    );\\n    // End 生成 gzip 压缩文件\\n    \\n    config.plugins = [...config.plugins, ...plugins];\\n\\t},\\n\\t...\\n}\\n')])])]),i(\"h3\",{attrs:{id:\"_2-3-nginx-配置\"}},[i(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-3-nginx-配置\"}},[t._v(\"#\")]),t._v(\" 2.3 nginx 配置\")]),t._v(\" \"),i(\"p\",[t._v(\"在nginx.conf 的 在http 中添加\")]),t._v(\" \"),i(\"div\",{staticClass:\"language- extra-class\"},[i(\"pre\",[i(\"code\",[t._v(\"gzip                on;\\n#gzip_static         on;\\ngzip_min_length     1k;\\ngzip_comp_level     5;\\ngzip_http_version   1.0;\\ngzip_types          text/plain application/javascript application/x-javascript text/javascript text/xml text/css;\\n\")])])]),i(\"p\",[t._v(\"使用 gzip_static  需要nginx 支持，可选择性开启\")]),t._v(\" \"),i(\"ul\",[i(\"li\",[i(\"p\",[t._v(\"使用前876KB\")]),t._v(\" \"),i(\"p\",[i(\"img\",{attrs:{src:n(589),alt:\"image-20200326183747822\"}})])]),t._v(\" \"),i(\"li\",[i(\"p\",[t._v(\"使用后311KB\")]),t._v(\" \"),i(\"p\",[i(\"img\",{attrs:{src:n(590),alt:\"image-20200326183657671\"}})])])])])}),[],!1,null,null,null);s.default=a.exports},589:function(t,s,n){t.exports=n.p+\"assets/img/image-20200326183747822.8f0996ec.png\"},590:function(t,s,n){t.exports=n.p+\"assets/img/image-20200326183657671.20fb4c10.png\"}}]);","extractedComments":[]}