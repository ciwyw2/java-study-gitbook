{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[327],{1294:function(a,t,s){\"use strict\";s.r(t);var e=s(42),r=Object(e.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":a.$parent.slotKey}},[s(\"h1\",{attrs:{id:\"jwt详解\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#jwt详解\"}},[a._v(\"#\")]),a._v(\" JWT详解\")]),a._v(\" \"),s(\"h3\",{attrs:{id:\"什么是jwt\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#什么是jwt\"}},[a._v(\"#\")]),a._v(\" 什么是JWT\")]),a._v(\" \"),s(\"p\",[s(\"strong\",[a._v(\"JWT（JSON Web Token）  本质上就一段签名的 JSON 格式的数据。由于它是带有签名的，因此接收者便可以验证它的真实性。\")])]),a._v(\" \"),s(\"p\",[a._v(\"JWT 由3部分构成\")]),a._v(\" \"),s(\"p\",[a._v(\"例如：\")]),a._v(\" \"),s(\"div\",{staticClass:\"language-java extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[s(\"code\",[a._v(\"xxxxx\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),a._v(\"yyyyy\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\".\")]),a._v(\"zzzzz\\n\")])])]),s(\"ol\",[s(\"li\",[s(\"p\",[a._v(\"Header：描述JWT 的元数据。定义了生成签名的算法以及token的类型\")]),a._v(\" \"),s(\"div\",{staticClass:\"language-json extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-json\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),a._v(\"\\n     'typ'\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\":\")]),a._v(\"'JWT'\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\",\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"//宣告型別，這裡是jwt\")]),a._v(\"\\n     'alg'\"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\":\")]),a._v(\"'HS256'  \"),s(\"span\",{pre:!0,attrs:{class:\"token comment\"}},[a._v(\"//宣告加密的演算法，通常直接使用HMAC SHA256或RSA\")]),a._v(\"\\n\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\"\\n\")])])]),s(\"p\",[a._v(\"Header部分的JSON被Base64Url編碼，形成JWT的第一部分。\")]),a._v(\" \"),s(\"div\",{staticClass:\"language- extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[a._v(\"eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9\\n\")])])])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"Payload（负载）：用来存放实际需要传递的数据\")]),a._v(\" \"),s(\"p\",[a._v(\"定义了三种宣告\")]),a._v(\" \"),s(\"ul\",[s(\"li\",[s(\"p\",[a._v(\"Registered claims（註冊宣告）:\")]),a._v(\" \"),s(\"p\",[a._v(\"這些是一組預先定義的宣告，它們不是強制性的，但推薦使用，以提供一組有用的，可互操作的宣告。 其中一些是：iss（發行者），exp（到期時間），sub（主題），aud（受眾）等。\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"Public claims（公開宣告）:\")]),a._v(\" \"),s(\"p\",[a._v(\"這些可以由使用JWT的人員隨意定義。 但為避免衝突，應在IANA JSON Web令牌登錄檔中定義它們，或將其定義為包含防衝突名稱空間的URI。\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"Private claims（私有宣告）:\")]),a._v(\" \"),s(\"p\",[a._v(\"這些是為了同意使用它們但是既沒有登記，也沒有公開宣告的各方之間共享資訊，而建立的定製宣告。\\n示例（這裡存放的即使一個使用者的資訊，沒有到期時間、主題之類的宣告）：\")])])]),a._v(\" \"),s(\"p\",[a._v(\"例如这是我实际存储的值\")]),a._v(\" \"),s(\"div\",{staticClass:\"language-json extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-json\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"{\")]),s(\"span\",{pre:!0,attrs:{class:\"token property\"}},[a._v('\"exp\"')]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\":\")]),s(\"span\",{pre:!0,attrs:{class:\"token number\"}},[a._v(\"1571370401\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\",\")]),s(\"span\",{pre:!0,attrs:{class:\"token property\"}},[a._v('\"username\"')]),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\":\")]),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v('\"zsz\"')]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"}\")]),a._v(\"\\n\")])])]),s(\"p\",[a._v(\"Playload部分的JSON被Base64Url編碼，形成JWT的第二部分。\")]),a._v(\" \"),s(\"div\",{staticClass:\"language- extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[s(\"code\",[a._v(\"eyJleHAiOjE1NzEzNzA0MDEsInVzZXJuYW1lIjoienN6In0\\n\")])])]),s(\"p\",[a._v(\"此部分信息尽管受到篡改保护，但是任何人都可以阅读。这部分不要放任何关键信息\")])]),a._v(\" \"),s(\"li\",[s(\"p\",[a._v(\"Signature（签名）：服务器通过Payload、Header 和一个密钥（secret）使用Header里面指定的算法签名（默认是HMAC SHA256）生成\")]),a._v(\" \"),s(\"p\",[a._v(\"如果你想使用HMAC SHA256演算法，簽名將按照以下方式建立：\")]),a._v(\" \"),s(\"div\",{staticClass:\"language-java extra-class\"},[s(\"pre\",{pre:!0,attrs:{class:\"language-java\"}},[s(\"code\",[s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"HMACSHA256\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),a._v(\"\\n  \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"base64UrlEncode\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),a._v(\"header\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"+\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v('\".\"')]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"+\")]),a._v(\"\\n  \"),s(\"span\",{pre:!0,attrs:{class:\"token function\"}},[a._v(\"base64UrlEncode\")]),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\"(\")]),a._v(\"payload\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"+\")]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token string\"}},[a._v('\".\"')]),a._v(\" \"),s(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[a._v(\"+\")]),a._v(\"\\n  secret\"),s(\"span\",{pre:!0,attrs:{class:\"token punctuation\"}},[a._v(\")\")]),a._v(\"  \\n\")])])])])]),a._v(\" \"),s(\"h2\",{attrs:{id:\"_2-jwt-安全吗\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-jwt-安全吗\"}},[a._v(\"#\")]),a._v(\" 2. JWT 安全吗？\")]),a._v(\" \"),s(\"p\",[a._v(\"Base64 编码方式是可逆的，也就是透过编码后开放的token \"),s(\"strong\",[a._v(\"内容是可以被解析的\")]),a._v(\"。一般我们不能放敏感信息，如密码等\")]),a._v(\" \"),s(\"h2\",{attrs:{id:\"_3-jwt-payload-內容可以被偽造嗎\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-jwt-payload-內容可以被偽造嗎\"}},[a._v(\"#\")]),a._v(\" 3. JWT Payload 內容可以被偽造嗎？\")]),a._v(\" \"),s(\"p\",[a._v(\"JWT 其中一个组成内容是Signature，可以防止通过Base64可逆回推有效负荷内容，因为signature 是你Header和payload一起base64组成的\")]),a._v(\" \"),s(\"h3\",{attrs:{id:\"参考文章\"}},[s(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#参考文章\"}},[a._v(\"#\")]),a._v(\" 参考文章\")]),a._v(\" \"),s(\"p\",[s(\"a\",{attrs:{href:\"https://www.itread01.com/content/1542396010.html\",target:\"_blank\",rel:\"noopener noreferrer\"}},[a._v(\"通俗易懂版講解JWT和OAuth2，以及他倆的區別和聯絡（Token鑑權解決方案）\"),s(\"OutboundLink\")],1)])])}),[],!1,null,null,null);t.default=r.exports}}]);","extractedComments":[]}