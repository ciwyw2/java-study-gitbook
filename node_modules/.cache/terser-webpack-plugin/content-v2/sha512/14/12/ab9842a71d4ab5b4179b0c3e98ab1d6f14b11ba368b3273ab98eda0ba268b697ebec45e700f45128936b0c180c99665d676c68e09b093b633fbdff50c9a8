{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[269],{1194:function(n,t,a){\"use strict\";a.r(t);var s=a(42),e=Object(s.a)({},(function(){var n=this,t=n.$createElement,a=n._self._c||t;return a(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":n.$parent.slotKey}},[a(\"h1\",{attrs:{id:\"nginx设置开机自启动\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#nginx设置开机自启动\"}},[n._v(\"#\")]),n._v(\" nginx设置开机自启动\")]),n._v(\" \"),a(\"h2\",{attrs:{id:\"_1-在-etc-init-d-下创建文件nginx\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-在-etc-init-d-下创建文件nginx\"}},[n._v(\"#\")]),n._v(\" 1. 在/etc/init.d 下创建文件nginx\")]),n._v(\" \"),a(\"p\",[n._v(\"Vim 创建nginx文件\")]),n._v(\" \"),a(\"div\",{staticClass:\"language- extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[n._v(\"vim /etc/init.d/nginx\\n\")])])]),a(\"p\",[n._v(\"编辑de内容\")]),n._v(\" \"),a(\"p\",[a(\"a\",{attrs:{href:\"https://www.nginx.com/resources/wiki/start/topics/examples/redhatnginxinit/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[n._v(\"官网配置\"),a(\"OutboundLink\")],1)]),n._v(\" \"),a(\"p\",[n._v(\"需要修改以下两处\")]),n._v(\" \"),a(\"div\",{staticClass:\"language- extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[n._v(\"nginx=”/usr/local/nginx/sbin/nginx” //修改成nginx执行程序的路径。\\n\\nNGINX_CONF_FILE=”/usr/local/nginx/conf/nginx.conf” //修改成nginx.conf文件的路径。\\n\")])])]),a(\"p\",[n._v(\"保存后设置文件的执行权限\")]),n._v(\" \"),a(\"div\",{staticClass:\"language- extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[n._v(\"chmod a+x /etc/init.d/nginx\\n\")])])]),a(\"p\",[n._v(\"至此就可以通过下面指令控制启动停止\")]),n._v(\" \"),a(\"div\",{staticClass:\"language- extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[n._v(\"/etc/init.d/nginx start\\n/etc/init.d/nginx stop\\n\")])])]),a(\"p\",[n._v(\"上面的方法完成了用脚本管理nginx服务的功能，但是还是不太方便。\")]),n._v(\" \"),a(\"h2\",{attrs:{id:\"_2-将nginx服务加入chkconfig\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-将nginx服务加入chkconfig\"}},[n._v(\"#\")]),n._v(\" 2. 将nginx服务加入chkconfig\")]),n._v(\" \"),a(\"p\",[n._v(\"先将nginx服务加入chkconfig管理列表：\")]),n._v(\" \"),a(\"div\",{staticClass:\"language- extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[n._v(\"chkconfig --add /etc/init.d/nginx\\n\")])])]),a(\"p\",[n._v(\"加完这个之后，就可以使用service对nginx进行启动，重启等操作了。\")]),n._v(\" \"),a(\"div\",{staticClass:\"language- extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[n._v(\"service nginx start\\nservice nginx stop\\nservice nginx restart\\n\")])])]),a(\"p\",[n._v(\"最后设置开机自动启动\")]),n._v(\" \"),a(\"div\",{staticClass:\"language- extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[n._v(\" chkconfig nginx on\\n\")])])]),a(\"h3\",{attrs:{id:\"_2-1-如出现-服务-nginx-不支持-chkconfig\"}},[a(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-1-如出现-服务-nginx-不支持-chkconfig\"}},[n._v(\"#\")]),n._v(\" 2.1 如出现“服务 nginx 不支持 chkconfig”\")]),n._v(\" \"),a(\"p\",[n._v(\"在/etc/init.d/nginx加上\")]),n._v(\" \"),a(\"div\",{staticClass:\"language- extra-class\"},[a(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[a(\"code\",[n._v(\"#!/bin/sh\\n#chkconfig: 2345 80 90\\n#description:auto_run\\n\")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);","extractedComments":[]}