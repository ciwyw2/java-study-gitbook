{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[239],{1119:function(a,t,e){\"use strict\";e.r(t);var s=e(42),_=Object(s.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":a.$parent.slotKey}},[e(\"h1\",{attrs:{id:\"字符集与排序规则\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#字符集与排序规则\"}},[a._v(\"#\")]),a._v(\" 字符集与排序规则\")]),a._v(\" \"),e(\"h2\",{attrs:{id:\"_1-是什么\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-是什么\"}},[a._v(\"#\")]),a._v(\" 1. 是什么\")]),a._v(\" \"),e(\"ul\",[e(\"li\",[e(\"p\",[a._v(\"字符集\"),e(\"code\",[a._v(\"character set\")]),a._v(\"）：\"),e(\"strong\",[a._v(\"用来定义存储字符串的方式\")])]),a._v(\" \"),e(\"p\",[a._v(\"定义了字符以及字符编码\")]),a._v(\" \"),e(\"p\",[a._v(\"字符集分为几个等级： server, database, table, 和 column 。\")])]),a._v(\" \"),e(\"li\",[e(\"p\",[a._v(\"排序规则（\"),e(\"code\",[a._v(\"collations\")]),a._v(\"）：\"),e(\"strong\",[a._v(\"用来定义比较字符串的方式\")])]),a._v(\" \"),e(\"p\",[a._v(\"定义了字符的比较规则\")])])]),a._v(\" \"),e(\"p\",[a._v(\"MySQL采用类似继承的方式制定字符集默认值，每个数据库每张表都有自己的默认值，他们逐层继承。如：某个库中所有表的默认字符集将是该数据库所指定的字符集（这些表在没有指定字符集的情况下，才会采用默认字符集）\")]),a._v(\" \"),e(\"h3\",{attrs:{id:\"_1-1-排序规则的命名规则\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-1-排序规则的命名规则\"}},[a._v(\"#\")]),a._v(\" 1.1 排序规则的命名规则\")]),a._v(\" \"),e(\"p\",[e(\"code\",[a._v(\"字符集名_\")]),a._v(\"[\"),e(\"code\",[a._v(\"语言名_\")]),a._v(\"]\"),e(\"code\",[a._v(\"类型\")]),a._v(\" （语言名并非一定有的，后缀为 \"),e(\"code\",[a._v(\"_bin\")]),a._v(\" 的就没有），并且可通过后缀来区分类型：\")]),a._v(\" \"),e(\"ul\",[e(\"li\",[e(\"code\",[a._v(\"_ci\")]),a._v(\" ：大小写不敏感\")]),a._v(\" \"),e(\"li\",[e(\"code\",[a._v(\"_cs\")]),a._v(\" ：大小写敏感\")]),a._v(\" \"),e(\"li\",[e(\"code\",[a._v(\"_bin\")]),a._v(\" ：标识比较是基于字符编码的值，而与语言无关\")])]),a._v(\" \"),e(\"h2\",{attrs:{id:\"_2-指定字符集\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-指定字符集\"}},[a._v(\"#\")]),a._v(\" 2. 指定字符集\")]),a._v(\" \"),e(\"p\",[a._v(\"我们在命令行创建一个新的数据库时，可以通过如下命令\")]),a._v(\" \"),e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[a._v(\"CREATE DATABASE 数据库名;\\n\")])])]),e(\"p\",[a._v(\"此时\"),e(\"strong\",[a._v(\"会使用默认\")]),a._v(\"的字符集及默认排序规则来创建数据库，而这个默认值可以在Mysql安装的根目录下的\"),e(\"code\",[a._v(\"my.ini\")]),a._v(\" （或者 \"),e(\"code\",[a._v(\"my-defualt.ini\")]),a._v(\" ）中进行配置，例如都设为 \"),e(\"code\",[a._v(\"utf8\")]),a._v(\"：\")]),a._v(\" \"),e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[a._v(\"[mysqld]\\n# 服务端使用的字符集默认为UTF8\\ncharacter-set-server=utf8\\n[mysql]\\n# 设置mysql客户端默认字符集(可能会有问题，只需设置上面的)\\ndefault-character-set=utf8\\n[client]\\ndefault-character-set=utf8\\n\")])])]),e(\"p\",[a._v(\"如果要在创建数据库时指定字符集和排序规则\")]),a._v(\" \"),e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[a._v(\"CREATE DATABASE 数据库名 CHARACTER SET '字符集，如：utf8' COLLATE '排序规则，如：utf8_bin';\\n\")])])]),e(\"h2\",{attrs:{id:\"_3-查询字符集和排序规则\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-查询字符集和排序规则\"}},[a._v(\"#\")]),a._v(\" 3. 查询字符集和排序规则\")]),a._v(\" \"),e(\"p\",[a._v(\"对于已创建的数据库结构，可以通过指令来查询其使用的字符集信息。\")]),a._v(\" \"),e(\"h3\",{attrs:{id:\"_3-1-查询各级的字符集\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-1-查询各级的字符集\"}},[a._v(\"#\")]),a._v(\" 3.1 查询各级的字符集\")]),a._v(\" \"),e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[a._v(\"mysql> SHOW VARIABLES LIKE '%char%';                                                                                                              +--------------------------+----------------------------------+\\n| Variable_name            | Value                            |\\n+--------------------------+----------------------------------+\\n| character_set_client     | utf8                             |\\n| character_set_connection | utf8                             |\\n| character_set_database   | utf8                             |\\n| character_set_filesystem | binary                           |\\n| character_set_results    | utf8                             |\\n| character_set_server     | utf8                             |\\n| character_set_system     | utf8                             |\\n| character_sets_dir       | /usr/local/mysql/share/charsets/ |\\n+--------------------------+----------------------------------+\\n8 rows in set (0.00 sec)\\n\")])])]),e(\"h3\",{attrs:{id:\"_3-2-查询对应的排序规则\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-2-查询对应的排序规则\"}},[a._v(\"#\")]),a._v(\" 3.2 查询对应的排序规则\")]),a._v(\" \"),e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[a._v(\"mysql> SHOW VARIABLES LIKE '%collation_%';\\n+----------------------+-----------------+\\n| Variable_name        | Value           |\\n+----------------------+-----------------+\\n| collation_connection | utf8_general_ci |\\n| collation_database   | utf8_general_ci |\\n| collation_server     | utf8_general_ci |\\n+----------------------+-----------------+\\n3 rows in set (0.00 sec)\\n\")])])]),e(\"h2\",{attrs:{id:\"_4-修改字符集和排序规则\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4-修改字符集和排序规则\"}},[a._v(\"#\")]),a._v(\" 4. 修改字符集和排序规则\")]),a._v(\" \"),e(\"h3\",{attrs:{id:\"_4-1-未创建数据库\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4-1-未创建数据库\"}},[a._v(\"#\")]),a._v(\" 4.1 未创建数据库\")]),a._v(\" \"),e(\"p\",[a._v(\"可以通过在创建命令中指定字符集的方式实现修改，也可以通过修改MySQL 安装根目录下的 \"),e(\"code\",[a._v(\"my.ini\")]),a._v(\" （或者 \"),e(\"code\",[a._v(\"my-defualt.ini\")]),a._v(\" ）中的配置实现修改。\")]),a._v(\" \"),e(\"h3\",{attrs:{id:\"_4-2-已创建数据库无数据\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4-2-已创建数据库无数据\"}},[a._v(\"#\")]),a._v(\" 4.2 已创建数据库无数据\")]),a._v(\" \"),e(\"p\",[a._v(\"可以使用如下指令进行修改：\")]),a._v(\" \"),e(\"div\",{staticClass:\"language- extra-class\"},[e(\"pre\",{pre:!0,attrs:{class:\"language-text\"}},[e(\"code\",[a._v(\"ALTER DATABASE 数据库名 CHARACTER SET '字符集，如：utf8' COLLATE '排序规则，如：utf8_bin';\\n\\n\")])])]),e(\"h3\",{attrs:{id:\"_4-3-已创建且有数据的数据库\"}},[e(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_4-3-已创建且有数据的数据库\"}},[a._v(\"#\")]),a._v(\" 4.3 已创建且有数据的数据库\")]),a._v(\" \"),e(\"p\",[a._v(\"直接修改的话只会对新创建的表或者记录有效，已存入的数据不会被修改。假如需要修改所有数据，需要将原表导出，创建新表再将旧表数据迁移过来。\")])])}),[],!1,null,null,null);t.default=_.exports}}]);","extractedComments":[]}