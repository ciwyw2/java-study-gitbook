{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[469],{919:function(t,a,e){\"use strict\";e.r(a);var r=e(42),s=Object(r.a)({},(function(){var t=this,a=t.$createElement,r=t._self._c||a;return r(\"ContentSlotsDistributor\",{attrs:{\"slot-key\":t.$parent.slotKey}},[r(\"h1\",{attrs:{id:\"删除-git中的错误提交的文件-md\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#删除-git中的错误提交的文件-md\"}},[t._v(\"#\")]),t._v(\" 删除.git中的错误提交的文件.md\")]),t._v(\" \"),r(\"h2\",{attrs:{id:\"_1-背景\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_1-背景\"}},[t._v(\"#\")]),t._v(\" 1. 背景\")]),t._v(\" \"),r(\"p\",[t._v(\"Git 操作时，经常“不小心”上传一些不必要的（大）文件，或者私密数据，等等。\")]),t._v(\" \"),r(\"p\",[t._v(\"当然可以从本地把这些文件删除，加入 \"),r(\"code\",[t._v(\".gitignore\")]),t._v(\", 避免下次再上传。\")]),t._v(\" \"),r(\"p\",[t._v(\"然而，\"),r(\"strong\",[t._v(\"之前已经上传过的，还遗留在 git 历史中\")])]),t._v(\" \"),r(\"h2\",{attrs:{id:\"_2-实例\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_2-实例\"}},[t._v(\"#\")]),t._v(\" 2. 实例\")]),t._v(\" \"),r(\"p\",[t._v(\"如下是一个我误将vue 的第三方依赖node_modules 添加到git 导致.git文件过大\")]),t._v(\" \"),r(\"img\",{staticStyle:{zoom:\"50%\"},attrs:{src:e(!function(){var t=new Error(\"Cannot find module '.\\\\img\\\\image-20201010094508032.png'\");throw t.code=\"MODULE_NOT_FOUND\",t}()),alt:\"image-20201010094508032\"}}),t._v(\" \"),r(\"h2\",{attrs:{id:\"_3-操作步骤\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#_3-操作步骤\"}},[t._v(\"#\")]),t._v(\" 3. 操作步骤\")]),t._v(\" \"),r(\"ol\",[r(\"li\",[r(\"p\",[r(\"a\",{attrs:{href:\"https://rtyley.github.io/bfg-repo-cleaner/\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"下载bfg.jar\"),r(\"OutboundLink\")],1),t._v(\", 直接将其复制到 \"),r(\"code\",[t._v(\"your-repo.git\")]),t._v(\" 目录下\")])]),t._v(\" \"),r(\"li\",[r(\"p\",[t._v(\"删除.git 中的文件或者文件夹\")]),t._v(\" \"),r(\"ul\",[r(\"li\",[r(\"p\",[t._v(\"删除文件\")]),t._v(\" \"),r(\"div\",{staticClass:\"language-sh extra-class\"},[r(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[r(\"code\",[t._v(\"java -jar bfg-1.12.16.jar --delete-files test1.py\\n\")])])])]),t._v(\" \"),r(\"li\",[r(\"p\",[t._v(\"删除文件夹\")]),t._v(\" \"),r(\"div\",{staticClass:\"language-sh extra-class\"},[r(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[r(\"code\",[t._v(\"java -jar bfg-1.12.16.jar --delete-folders \"),r(\"span\",{pre:!0,attrs:{class:\"token string\"}},[t._v('\"{folderA,folderB,folderC}\"')]),t._v(\"\\n\")])])])])])]),t._v(\" \"),r(\"li\",[r(\"p\",[t._v(\"执行如下 git 命令\")]),t._v(\" \"),r(\"div\",{staticClass:\"language-sh extra-class\"},[r(\"pre\",{pre:!0,attrs:{class:\"language-sh\"}},[r(\"code\",[r(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"git\")]),t._v(\" reflog expire --expire\"),r(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\"now --all \"),r(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"&&\")]),t._v(\" \"),r(\"span\",{pre:!0,attrs:{class:\"token function\"}},[t._v(\"git\")]),t._v(\" gc --prune\"),r(\"span\",{pre:!0,attrs:{class:\"token operator\"}},[t._v(\"=\")]),t._v(\"now --aggressive\\n\")])])]),r(\"p\",[t._v(\"此时查看.git 文件夹，就可以看到文件变小了\")])])]),t._v(\" \"),r(\"img\",{staticStyle:{zoom:\"50%\"},attrs:{src:e(!function(){var t=new Error(\"Cannot find module '.\\\\img\\\\image-20201010093714396.png'\");throw t.code=\"MODULE_NOT_FOUND\",t}()),alt:\"image-20201010093714396\"}}),t._v(\" \"),r(\"h2\",{attrs:{id:\"参考文章\"}},[r(\"a\",{staticClass:\"header-anchor\",attrs:{href:\"#参考文章\"}},[t._v(\"#\")]),t._v(\" 参考文章\")]),t._v(\" \"),r(\"p\",[r(\"a\",{attrs:{href:\"https://juejin.im/post/6844904045459537934\",target:\"_blank\",rel:\"noopener noreferrer\"}},[t._v(\"BFG Repo-Cleaner - 从 Git 历史中真正删除文件\"),r(\"OutboundLink\")],1)])])}),[],!1,null,null,null);a.default=s.exports}}]);","extractedComments":[]}